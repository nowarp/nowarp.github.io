"use strict";(self.webpackChunknowarp_github_io=self.webpackChunknowarp_github_io||[]).push([[3374],{5186:(i,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>d,default:()=>g,frontMatter:()=>l,metadata:()=>a,toc:()=>r});var n=t(4848),s=t(8453);const l={},d="DumpCfg",a={id:"tools/DumpCfg",title:"DumpCfg",description:"Misti provides a feature to dump the Control Flow Graph (CFG) in JSON, DOT, and Mermaid formats. This is essential for understanding the Internal Representation (IR) of the code and analyzing the control flow within contracts.",source:"@site/versioned_docs/version-0.7/tools/DumpCfg.md",sourceDirName:"tools",slug:"/tools/DumpCfg",permalink:"/tools/misti/docs/0.7/tools/DumpCfg",draft:!1,unlisted:!1,editUrl:"https://github.com/nowarp/nowarp.github.io/tree/master/versioned_docs/version-0.7/tools/DumpCfg.md",tags:[],version:"0.7",frontMatter:{},sidebar:"sidebar",previous:{title:"DumpCallGraph",permalink:"/tools/misti/docs/0.7/tools/DumpCallGraph"},next:{title:"DumpConfig",permalink:"/tools/misti/docs/0.7/tools/DumpConfig"}},o={},r=[{value:"Usage",id:"usage",level:2},{value:"Working with Mermaid",id:"working-with-mermaid",level:2},{value:"Working with Graphviz",id:"working-with-graphviz",level:2},{value:"Converting DOT to SVG",id:"converting-dot-to-svg",level:3},{value:"Viewing the SVG",id:"viewing-the-svg",level:3},{value:"VS Code Plugin",id:"vs-code-plugin",level:3},{value:"Understanding the Dumps",id:"understanding-the-dumps",level:2}];function I(i){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...i.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{id:"dumpcfg",children:"DumpCfg"}),"\n",(0,n.jsxs)(e.p,{children:["Misti provides a feature to dump the ",(0,n.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Control-flow_graph",children:"Control Flow Graph (CFG)"})," in JSON, DOT, and Mermaid formats. This is essential for understanding the Internal Representation (IR) of the code and analyzing the control flow within contracts."]}),"\n",(0,n.jsx)(e.h2,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(e.p,{children:"To dump the CFG in Mermaid format, use the following command:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-bash",children:'misti -t "DumpCfg:format=mmd" <TACT_CONFIG_PATH|TACT_FILE_PATH>\n'})}),"\n",(0,n.jsx)(e.p,{children:"To dump the CFG in Graphviz DOT format, use the following command:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-bash",children:'misti -t "DumpCfg:format=dot" <TACT_CONFIG_PATH|TACT_FILE_PATH>\n'})}),"\n",(0,n.jsx)(e.p,{children:"To dump the CFG in JSON format, use the following command:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-bash",children:'misti -t "DumpCfg:format=json" <TACT_CONFIG_PATH|TACT_FILE_PATH>\n'})}),"\n",(0,n.jsxs)(e.p,{children:["You could also include Tact standard library functions to the dump adding ",(0,n.jsx)(e.code,{children:"dumpStdlib=true"})," to the ",(0,n.jsx)(e.code,{children:"DumpCfg"})," options."]}),"\n",(0,n.jsx)(e.h2,{id:"working-with-mermaid",children:"Working with Mermaid"}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:"https://mermaid.js.org",children:"Mermaid"})," is a JavaScript-based diagramming and charting tool that allows you to create dynamic visualizations, such as flowcharts and sequence diagrams, using a simple syntax. It is integrated into various platforms, including Visual Studio Code."]}),"\n",(0,n.jsxs)(e.p,{children:["To view Mermaid diagrams in Visual Studio Code, you can use the ",(0,n.jsx)(e.a,{href:"https://marketplace.visualstudio.com/items?itemName=bierner.markdown-mermaid",children:"Markdown Preview Mermaid Support"})," extension. You can also use the ",(0,n.jsx)(e.a,{href:"https://mermaid.live",children:"Mermaid Live Editor"})," to preview your diagrams online."]}),"\n",(0,n.jsx)(e.p,{children:"To dump the CFG in Mermaid format using Misti, run the following command:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-bash",children:'misti -t "DumpCfg:format=mermaid" <TACT_CONFIG_PATH|TACT_FILE_PATH>\n'})}),"\n",(0,n.jsx)(e.p,{children:"The output can be viewed directly in the VS Code plugin or the online editor."}),"\n",(0,n.jsx)(e.h2,{id:"working-with-graphviz",children:"Working with Graphviz"}),"\n",(0,n.jsx)(e.h3,{id:"converting-dot-to-svg",children:"Converting DOT to SVG"}),"\n",(0,n.jsxs)(e.p,{children:["To convert the resulting DOT file to an SVG for visualization, save the generated DOT dump to a file and use ",(0,n.jsx)(e.a,{href:"https://graphviz.org",children:"Graphviz"})," with the following command:"]}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-bash",children:'misti -t "DumpCfg:format=dot" <TACT_CONFIG_PATH|TACT_FILE_PATH> > output.dot\ndot -Tsvg output.dot -o output.svg\n'})}),"\n",(0,n.jsx)(e.h3,{id:"viewing-the-svg",children:"Viewing the SVG"}),"\n",(0,n.jsx)(e.p,{children:"To view the SVG file in Firefox, use the following command:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-bash",children:"firefox output.svg\n"})}),"\n",(0,n.jsx)(e.p,{children:"For example, for the following contract:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-tact",children:"fun test(): Int {\n  let sum: Int = 0;\n  let i: Int = 0;\n  repeat (10) {\n    i = i + 1;\n    sum = sum + i;\n  }\n  return sum;\n}\n"})}),"\n",(0,n.jsx)(e.p,{children:"The following CFG will be generated:"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:"CFG Example",src:t(685).A+"",width:"337",height:"516"})}),"\n",(0,n.jsx)(e.h3,{id:"vs-code-plugin",children:"VS Code Plugin"}),"\n",(0,n.jsxs)(e.p,{children:["For real-time visualization of DOT files, you can use ",(0,n.jsx)(e.a,{href:"https://marketplace.visualstudio.com/search?term=tag%3Agraphviz&target=VSCode&category=All%20categories&sortBy=Relevance",children:"one of the available"})," Graphviz plugins for Visual Studio Code. These plugins allow you to view DOT diagrams directly within the editor, facilitating easier debugging and development."]}),"\n",(0,n.jsx)(e.h2,{id:"understanding-the-dumps",children:"Understanding the Dumps"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:"JSON Dumps"}),": These are mostly helpful for understanding low-level details on how the IR is generated. They provide a comprehensive representation of the internal structures used by the analyzer."]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:"DOT Dumps"}),": These provide a visual representation of the contract's control flow. They are particularly useful for understanding the control flow within contracts, making it easier to identify issues and optimize the code."]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:"Mermaid Dumps"}),": The Mermaid format allows you to generate flowcharts that are easy to read and share. They offer a convenient way to visualize the CFG without requiring additional tools, as they can be directly embedded in markdown files or viewed in the Mermaid Live Editor."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(e.p,{children:"By utilizing these tools, developers can gain deeper insights into the workings of the static analyzer and effectively debug and enhance their custom detectors."})]})}function g(i={}){const{wrapper:e}={...(0,s.R)(),...i.components};return e?(0,n.jsx)(e,{...i,children:(0,n.jsx)(I,{...i})}):I(i)}},685:(i,e,t)=>{t.d(e,{A:()=>n});const n="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDIuNCAoMCkKIC0tPgo8IS0tIFRpdGxlOiBsb29wcyYjNDU7MyBQYWdlczogMSAtLT4KPHN2ZyB3aWR0aD0iMjUzcHQiIGhlaWdodD0iMzg3cHQiCiB2aWV3Qm94PSIwLjAwIDAuMDAgMjUzLjAwIDM4Ny4wMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CjxnIGlkPSJncmFwaDAiIGNsYXNzPSJncmFwaCIgdHJhbnNmb3JtPSJzY2FsZSgxIDEpIHJvdGF0ZSgwKSB0cmFuc2xhdGUoNCAzODMpIj4KPHRpdGxlPmxvb3BzJiM0NTszPC90aXRsZT4KPHBvbHlnb24gZmlsbD0id2hpdGUiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtMzgzIDI0OSwtMzgzIDI0OSw0IC00LDQiLz4KPGcgaWQ9ImNsdXN0MSIgY2xhc3M9ImNsdXN0ZXIiPgo8dGl0bGU+Y2x1c3Rlcl90ZXN0PC90aXRsZT4KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI4LC04IDgsLTM3MSAyMzcsLTM3MSAyMzcsLTggOCwtOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxMjIuNSIgeT0iLTM1NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiPnRlc3Q8L3RleHQ+CjwvZz4KPCEtLSB0ZXN0XzE0MSAtLT4KPGcgaWQ9Im5vZGUxIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT50ZXN0XzE0MTwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMjI0LjUsLTM0MCA5NS41LC0zNDAgOTUuNSwtMzA0IDIyNC41LC0zMDQgMjI0LjUsLTM0MCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxNjAiIHk9Ii0zMTguMyIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIj5sZXQgc3VtOiBJbnQgPSAwPC90ZXh0Pgo8L2c+CjwhLS0gdGVzdF8xNDIgLS0+CjxnIGlkPSJub2RlMiIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+dGVzdF8xNDI8L3RpdGxlPgo8cG9seWdvbiBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjIxMiwtMjY4IDEwOCwtMjY4IDEwOCwtMjMyIDIxMiwtMjMyIDIxMiwtMjY4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjE2MCIgeT0iLTI0Ni4zIiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiPmxldCBpOiBJbnQgPSAwPC90ZXh0Pgo8L2c+CjwhLS0gdGVzdF8xNDEmIzQ1OyZndDt0ZXN0XzE0MiAtLT4KPGcgaWQ9ImVkZ2UxIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT50ZXN0XzE0MSYjNDU7Jmd0O3Rlc3RfMTQyPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgZD0iTTE2MCwtMzAzLjdDMTYwLC0yOTUuOTggMTYwLC0yODYuNzEgMTYwLC0yNzguMTEiLz4KPHBvbHlnb24gZmlsbD0iYmxhY2siIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMTYzLjUsLTI3OC4xIDE2MCwtMjY4LjEgMTU2LjUsLTI3OC4xIDE2My41LC0yNzguMSIvPgo8L2c+CjwhLS0gdGVzdF8xNDQgLS0+CjxnIGlkPSJub2RlMyIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+dGVzdF8xNDQ8L3RpdGxlPgo8cG9seWdvbiBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjIwOCwtMTk2IDExMiwtMTk2IDExMiwtMTYwIDIwOCwtMTYwIDIwOCwtMTk2Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjE2MCIgeT0iLTE3NC4zIiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiPnJlcGVhdCAoMTApPC90ZXh0Pgo8L2c+CjwhLS0gdGVzdF8xNDImIzQ1OyZndDt0ZXN0XzE0NCAtLT4KPGcgaWQ9ImVkZ2UyIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT50ZXN0XzE0MiYjNDU7Jmd0O3Rlc3RfMTQ0PC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgZD0iTTE2MCwtMjMxLjdDMTYwLC0yMjMuOTggMTYwLC0yMTQuNzEgMTYwLC0yMDYuMTEiLz4KPHBvbHlnb24gZmlsbD0iYmxhY2siIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMTYzLjUsLTIwNi4xIDE2MCwtMTk2LjEgMTU2LjUsLTIwNi4xIDE2My41LC0yMDYuMSIvPgo8L2c+CjwhLS0gdGVzdF8xNDYgLS0+CjxnIGlkPSJub2RlNCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+dGVzdF8xNDY8L3RpdGxlPgo8cG9seWdvbiBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjkzLjUsLTEyNCAxNi41LC0xMjQgMTYuNSwtODggOTMuNSwtODggOTMuNSwtMTI0Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjU1IiB5PSItMTAyLjMiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCI+aSA9IGkgKyAxPC90ZXh0Pgo8L2c+CjwhLS0gdGVzdF8xNDQmIzQ1OyZndDt0ZXN0XzE0NiAtLT4KPGcgaWQ9ImVkZ2UzIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT50ZXN0XzE0NCYjNDU7Jmd0O3Rlc3RfMTQ2PC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgZD0iTTEzNC4zMSwtMTU5Ljg4QzEyMC43MSwtMTUwLjgxIDEwMy44MywtMTM5LjU1IDg5LjE0LC0xMjkuNzYiLz4KPHBvbHlnb24gZmlsbD0iYmxhY2siIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iOTEuMDUsLTEyNi44MiA4MC43OCwtMTI0LjE5IDg3LjE2LC0xMzIuNjUgOTEuMDUsLTEyNi44MiIvPgo8L2c+CjwhLS0gdGVzdF8xNTEgLS0+CjxnIGlkPSJub2RlNiIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+dGVzdF8xNTE8L3RpdGxlPgo8cG9seWdvbiBmaWxsPSIjNjZhN2RiIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjIwOC41LC0xMjQgMTExLjUsLTEyNCAxMTEuNSwtODggMjA4LjUsLTg4IDIwOC41LC0xMjQiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTYwIiB5PSItMTAyLjMiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCI+cmV0dXJuIHN1bTwvdGV4dD4KPC9nPgo8IS0tIHRlc3RfMTQ0JiM0NTsmZ3Q7dGVzdF8xNTEgLS0+CjxnIGlkPSJlZGdlNiIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+dGVzdF8xNDQmIzQ1OyZndDt0ZXN0XzE1MTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik0xNjAsLTE1OS43QzE2MCwtMTUxLjk4IDE2MCwtMTQyLjcxIDE2MCwtMTM0LjExIi8+Cjxwb2x5Z29uIGZpbGw9ImJsYWNrIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjE2My41LC0xMzQuMSAxNjAsLTEyNC4xIDE1Ni41LC0xMzQuMSAxNjMuNSwtMTM0LjEiLz4KPC9nPgo8IS0tIHRlc3RfMTQ4IC0tPgo8ZyBpZD0ibm9kZTUiIGNsYXNzPSJub2RlIj4KPHRpdGxlPnRlc3RfMTQ4PC90aXRsZT4KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIxODMuNSwtNTIgNjAuNSwtNTIgNjAuNSwtMTYgMTgzLjUsLTE2IDE4My41LC01MiIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxMjIiIHk9Ii0zMC4zIiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiPnN1bSA9IHN1bSArIGk8L3RleHQ+CjwvZz4KPCEtLSB0ZXN0XzE0NiYjNDU7Jmd0O3Rlc3RfMTQ4IC0tPgo8ZyBpZD0iZWRnZTQiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPnRlc3RfMTQ2JiM0NTsmZ3Q7dGVzdF8xNDg8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBkPSJNNzEuNTYsLTg3LjdDNzkuNjgsLTc5LjIyIDg5LjU5LC02OC44NiA5OC40NywtNTkuNTgiLz4KPHBvbHlnb24gZmlsbD0iYmxhY2siIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMTAxLjI0LC02MS43NSAxMDUuNjMsLTUyLjEgOTYuMTksLTU2LjkxIDEwMS4yNCwtNjEuNzUiLz4KPC9nPgo8IS0tIHRlc3RfMTQ4JiM0NTsmZ3Q7dGVzdF8xNDQgLS0+CjxnIGlkPSJlZGdlNSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+dGVzdF8xNDgmIzQ1OyZndDt0ZXN0XzE0NDwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik0xNzUuMjIsLTUyLjA0QzE5MS44OSwtNjAuMTYgMjA4LjQyLC03MS43NyAyMTgsLTg4IDIyNi4xMywtMTAxLjc4IDIyNC40NSwtMTA5LjM2IDIxOCwtMTI0IDIxMy4wMSwtMTM1LjMxIDIwNC4yOSwtMTQ1LjI2IDE5NS4xLC0xNTMuMzgiLz4KPHBvbHlnb24gZmlsbD0iYmxhY2siIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMTkyLjgzLC0xNTAuNzIgMTg3LjM0LC0xNTkuNzcgMTk3LjI4LC0xNTYuMTIgMTkyLjgzLC0xNTAuNzIiLz4KPC9nPgo8L2c+Cjwvc3ZnPgo="},8453:(i,e,t)=>{t.d(e,{R:()=>d,x:()=>a});var n=t(6540);const s={},l=n.createContext(s);function d(i){const e=n.useContext(l);return n.useMemo((function(){return"function"==typeof i?i(e):{...e,...i}}),[e,i])}function a(i){let e;return e=i.disableParentContext?"function"==typeof i.components?i.components(s):i.components||s:d(i.components),n.createElement(l.Provider,{value:e},i.children)}}}]);